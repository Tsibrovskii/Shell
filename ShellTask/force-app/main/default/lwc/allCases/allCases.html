<template>
  <div class="slds-card">
    <div class="headerBackgroundColor slds-align--absolute-center slds-p-around--small slds-text-heading--medium">
      All Cases
    </div>
    <c-filter-cases
      onstartdatechanged={handleStartDateChange}
      onenddatechanged={handleEndDateChange}
      onstatuschanged={handleStatusChange}
      onprioritychanged={handlePriorityChange}
      onsearchchanged={handleSearchChange}>
    </c-filter-cases>
    <div if:false={isLoaded}>
      <lightning-spinner></lightning-spinner>
    </div>
    <div class="slds-scrollable_y">
      <div class="tableHeaderFixed">
        <c-table-header onsortrecords={sortRecords}></c-table-header>
      </div>
      <div class="tableHeight">
        <template for:each={records} for:item="record">
          <c-case-record key={record.Id} record={record}></c-case-record>
        </template>
      </div>
    </div>
    <button class="slds-button slds-button_brand slds-align--absolute-center slds-m-top--small slds-m-bottom--small" onclick={refr}>
      Generate PDF
    </button>
  </div>
  <lightning-card title="Latest Five Accounts">  
    <lightning-button slot="actions" label="Delete Account" onclick={deleteRecord}></lightning-button>  
      <lightning-datatable  
      data={accountList} columns={cols} key-field="Id" 
      max-row-selection="1" onrowselection={handelSelection} >  
      </lightning-datatable>  
  </lightning-card>
</template>