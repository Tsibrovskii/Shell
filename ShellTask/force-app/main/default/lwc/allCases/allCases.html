<template>
  <div class="slds-card">
    <div class="headerBackgroundColor slds-align--absolute-center slds-p-around--small slds-text-heading--medium">
      All Cases
    </div>
    <div class="filterWidth slds-p-left--small">
        <lightning-input type="search" class="slds-m-bottom--small" label="Filter" onchange={filterRecords} placeholder="Start typing here">
        </lightning-input>
    </div>
    <div if:false={isLoaded}>
      <lightning-spinner></lightning-spinner>
    </div>
    <div class="slds-scrollable_y">
      <div class="slds-theme_shade">
        <div class="slds-grid slds-gutters">
          <div class="slds-col slds-size--1-of-6 cursorPointer">
            <div class="slds-p-left--small slds-p-top--small slds-p-bottom--small" title="CaseNumber" onclick={sortRecords}>
              Case Number
              <lightning-icon icon-name="utility:arrowup" size="xx-small" class={classCaseNumberAsc} title="CaseNumber"></lightning-icon>
              <lightning-icon icon-name="utility:arrowdown" size="xx-small" class={classCaseNumberDesc} title="CaseNumber"></lightning-icon>
            </div>
          </div>
          <div class="slds-col slds-size--1-of-6 cursorPointer">
            <div class="slds-p-left--small slds-p-top--small slds-p-bottom--small" title="Owner" onclick={sortRecords}>
              Case Owner
              <lightning-icon icon-name="utility:arrowup" size="xx-small" class={classCaseOwnerAsc} title="Owner"></lightning-icon>
              <lightning-icon icon-name="utility:arrowdown" size="xx-small" class={classCaseOwnerDesc} title="Owner"></lightning-icon>
            </div>
          </div>
          <div class="slds-col slds-size--1-of-6 cursorPointer">
            <div class="slds-p-left--small slds-p-top--small slds-p-bottom--small" title="Status" onclick={sortRecords}>
              Status
              <lightning-icon icon-name="utility:arrowup" size="xx-small" class={classStatusAsc} title="Status"></lightning-icon>
              <lightning-icon icon-name="utility:arrowdown" size="xx-small" class={classStatusDesc} title="Status"></lightning-icon>
            </div>
          </div>
          <div class="slds-col slds-size--1-of-6 cursorPointer">
            <div class="slds-p-left--small slds-p-top--small slds-p-bottom--small" title="CreatedDate" onclick={sortRecords}>
              Date Opened
              <lightning-icon icon-name="utility:arrowup" size="xx-small" class={classCreatedDateAsc} title="CreatedDate"></lightning-icon>
              <lightning-icon icon-name="utility:arrowdown" size="xx-small" class={classCreatedDateDesc} title="CreatedDate"></lightning-icon>
            </div>
          </div>
          <div class="slds-col slds-size--1-of-6 cursorPointer">
            <div class="slds-p-left--small slds-p-top--small slds-p-bottom--small" title="Skills__c" onclick={sortRecords}>
              Skills
              <lightning-icon icon-name="utility:arrowup" size="xx-small" class={classSkillsAsc} title="Skills__c"></lightning-icon>
              <lightning-icon icon-name="utility:arrowdown" size="xx-small" class={classSkillsDesc} title="Skills__c"></lightning-icon>
            </div>
          </div>
          <div class="slds-col slds-size--1-of-6 cursorPointer">
            <div class="slds-p-left--small slds-p-top--small slds-p-bottom--small" title="Priority" onclick={sortRecords}>
              Priority
              <lightning-icon icon-name="utility:arrowup" size="xx-small" class={classPriorityAsc} title="Priority"></lightning-icon>
              <lightning-icon icon-name="utility:arrowdown" size="xx-small" class={classPriorityDesc} title="Priority"></lightning-icon>
            </div>
          </div>
        </div>
      </div>
      <div class=" tableHeight">
        <template for:each={records} for:item="record">
          <c-case-record key={record.Id} record={record}></c-case-record>
        </template>
      </div>
    </div>
    <button class="slds-button slds-button_brand slds-align--absolute-center slds-m-top--small slds-m-bottom--small" onclick={generatePdf}>
      Generate PDF
    </button>
  </div>
</template>